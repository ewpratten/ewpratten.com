
















<!DOCTYPE html>
<html lang="en">

<head>
    
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="image/jpg" href="https:&#x2F;&#x2F;branding.ewpratten.com&#x2F;pfp&#x2F;2022&#x2F;460x460.webp" />
    
<link rel="canonical" href="https:&#x2F;&#x2F;ewpratten.com&#x2F;blog&#x2F;minecraft-irc&#x2F;" />


<link rel="alternate" type="application/rss+xml" title="RSS" href="https://ewpratten.com/rss.xml">
    
<meta name="twitter:card" content="summary" />
<meta name="og:site" content="ewpratten.com" />
<meta name="og:site_name" content="Evan Pratten" />


<meta name="og:image"
    content="https:&#x2F;&#x2F;branding.ewpratten.com&#x2F;pfp&#x2F;2022&#x2F;460x460.webp" />


<meta property="og:description" content="For server administration, or just chatting with friends" />
<meta property="description" content="For server administration, or just chatting with friends" />
<meta name="description" content="For server administration, or just chatting with friends">


<meta property="og:title" content="Connecting to a Minecraft server over IRC - Evan Pratten" />



<meta property="og:type" content="article" />





    
    

    
    <title>Connecting to a Minecraft server over IRC | Evan Pratten</title>

    
    <link rel="stylesheet" href="/global.css">

    
    <link rel="stylesheet" href="/dist/github-markdown-css/github-markdown-light.css" lazyload>
    <link rel="stylesheet" href="/styles/bootstrap.css" lazyload>
    <link rel="stylesheet" href="/styles/typography.css">

    
    
    

    
    
</head>

<body>

    
    <div class="page">

        
        


    
<link rel="stylesheet" href="/styles/components/heading-card.css">


<div class="heading-card">
    <div class="profile-photo-container">
        <img src="https:&#x2F;&#x2F;branding.ewpratten.com&#x2F;pfp&#x2F;2022&#x2F;460x460.webp" alt="Profile Photo"  loading="lazy">
    </div>
    <div class="text-container">
        <h1>Evan Pratten</h1>
        <p>Software Developer</p>
    </div>
</div>


        
        <div class="container">
            

    
<link rel="stylesheet" href="/styles/components/navbar.css">


<div class="ewp-navbar">
    <hr>
    <ul class="navbar-items">
        <li><a href="/">Home</a></li>
        <li class="separator">|</li>
        <li><a href="/timeline">Timeline</a></li>
        <li class="separator">|</li>
        <li class="dropdown-center">
            <a href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                More
            </a>
            <ul class="dropdown-menu">
                
                
                <li><a class="dropdown-item" href="/photography">Photography</a></li>
                <li><a class="dropdown-item" href="/contact">Contact</a></li>
            </ul>
        </li>
        
    </ul>
    <hr>
</div>
        </div>

        
        <article id="content" class="container markdown-body">
            
<h1 style="margin-bottom:0;padding-bottom:0;">Connecting to a Minecraft server over IRC</h1>
<em>For server administration, or just chatting with friends</em>
<br><br>

<p>As I talked about in my post <a href="/blog/2020/10/24/corepack-development">about Minecraft modpack development</a>, I got back in to playing Minecraft earlier this year. I primairly play on a server full of friends, where the server owner has <a rel="noopener" target="_blank" href="https://github.com/webbukkit/dynmap">dynmap</a> installed. Dynmap is a handy tool that provides a near-real-time overview of the minecraft world in the form of a webapp. I always keep Dynmap open on my laptop so I can chat with whoever is online, and see whats being worked on.</p>
<p>While dynmap has a built-in chat log, and the ability to send chats, the incoming chat messages do not persist, and the outgoing chat messages don't always show your in-game username (but instead, your public IP address). Since I always have an IRC client open, I figured that making use of my IRC client to generate a persistent chat log in the background would be a good solution. Unfortunately, I could not find anyone who has ever built a <code>Minecraft &lt;-&gt; IRC</code> bridge. Thus my project, <a rel="noopener" target="_blank" href="https://github.com/Ewpratten/chatster">chatster</a>, was born. </p>
<p>The most basic IRC server consists of a TCP socket, and only 7 message handlers:</p>
<table><thead><tr><th>Message Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>NICK</code></td><td>Handles a user setting their nickname</td></tr>
<tr><td><code>USER</code></td><td>Handles a user setting their identity / username</td></tr>
<tr><td><code>PASS</code></td><td>Handles a user authenticating with the server</td></tr>
<tr><td><code>PING</code></td><td>A simple ping-pong system</td></tr>
<tr><td><code>JOIN</code></td><td>Handles a user joining a channel</td></tr>
<tr><td><code>QUIT</code></td><td>Handles a user leaving a channel</td></tr>
<tr><td><code>PRIVMSG</code></td><td>Handles a user sending a message</td></tr>
</tbody></table>
<p>On the Minecraft side, the following subset of the <a rel="noopener" target="_blank" href="https://wiki.vg/Protocol">in-game protocol</a> must be implemented (I just used the <a rel="noopener" target="_blank" href="https://github.com/ammaraskar/pyCraft"><code>pyCraft</code></a> library for this):</p>
<ul>
<li>User authentication</li>
<li>Receiving <a rel="noopener" target="_blank" href="https://wiki.vg/Protocol#Chat_Message_.28clientbound.29"><code>clientbound.play.ChatMessage</code></a> packets</li>
<li>Sending <a rel="noopener" target="_blank" href="https://wiki.vg/Protocol#Chat_Message_.28serverbound.29"><code>serverbound.play.ChatMessage</code></a> packets</li>
</ul>
<p>The whole idea of chatster is that a user connects to the IRC server using their <a rel="noopener" target="_blank" href="https://account.mojang.com/">Mojang account</a> email and password at their IRC nickname, and server password. The server temporarily stores these values in memory.</p>
<p>Connecting to a server is done via specific IRC channel names. If you wanted to connect to <code>mc.example.com</code> on port <code>12345</code>, you would issue the following IRC command:</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>/JOIN #mc.example.com:12345
</span></code></pre>
<p>Upon channel join, the server opens a socket to the specified Minecraft server, and relays chat messages (along with their sender) to both Minecraft and IRC. This means that ingame users show up in your IRC user list, and you can send commands and chats to the game.</p>


        </article>

        
        

    
<link rel="stylesheet" href="/styles/components/footer.css">


<div class="footer">
    <br>
    <span class="gray">-- EOF --</span>
    <p>
        Site design & content by: <a href="/contact">Evan Pratten</a><br>
        Consider <a href="/donate" target="_blank">supporting my work</a> if you like what you see<br>
    </p>
</div>
    </div>

    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
        crossorigin="anonymous"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
<script defer src="https://www.googletagmanager.com/gtag/js?id=G-5912H4H03P"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-5912H4H03P');
</script>
</body>

</html>

















<!DOCTYPE html>
<html lang="en">

<head>
    
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="image/jpg" href="https:&#x2F;&#x2F;branding.ewpratten.com&#x2F;pfp&#x2F;2022&#x2F;460x460.webp" />
    
<link rel="canonical" href="https:&#x2F;&#x2F;ewpratten.com&#x2F;blog&#x2F;billwurtz&#x2F;" />


<link rel="alternate" type="application/rss+xml" title="RSS" href="https://ewpratten.com/rss.xml">
    
<meta name="twitter:card" content="summary" />
<meta name="og:site" content="ewpratten.com" />
<meta name="og:site_name" content="Evan Pratten" />


<meta name="og:image"
    content="https:&#x2F;&#x2F;branding.ewpratten.com&#x2F;pfp&#x2F;2022&#x2F;460x460.webp" />


<meta property="og:description" content="Textgenrnn is fun" />
<meta property="description" content="Textgenrnn is fun" />
<meta name="description" content="Textgenrnn is fun">


<meta property="og:title" content="Using an RNN to generate Bill Wurtz notes - Evan Pratten" />



<meta property="og:type" content="article" />





    
    

    
    <title>Using an RNN to generate Bill Wurtz notes | Evan Pratten</title>

    
    <link rel="stylesheet" href="/global.css">

    
    <link rel="stylesheet" href="/dist/github-markdown-css/github-markdown-light.css" lazyload>
    <link rel="stylesheet" href="/styles/bootstrap.css" lazyload>
    <link rel="stylesheet" href="/styles/typography.css">

    
    
    

    
    
</head>

<body>

    
    <div class="page">

        
        


    
<link rel="stylesheet" href="/styles/components/heading-card.css">


<div class="heading-card">
    <div class="profile-photo-container">
        <img src="https:&#x2F;&#x2F;branding.ewpratten.com&#x2F;pfp&#x2F;2022&#x2F;460x460.webp" alt="Profile Photo"  loading="lazy">
    </div>
    <div class="text-container">
        <h1>Evan Pratten</h1>
        <p>Software Developer</p>
    </div>
</div>


        
        <div class="container">
            

    
<link rel="stylesheet" href="/styles/components/navbar.css">


<div class="ewp-navbar">
    <hr>
    <ul class="navbar-items">
        <li><a href="/">Home</a></li>
        <li class="separator">|</li>
        <li><a href="/timeline">Timeline</a></li>
        <li class="separator">|</li>
        <li class="dropdown-center">
            <a href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                More
            </a>
            <ul class="dropdown-menu">
                
                
                <li><a class="dropdown-item" href="/photography">Photography</a></li>
                <li><a class="dropdown-item" href="/contact">Contact</a></li>
            </ul>
        </li>
        
    </ul>
    <hr>
</div>
        </div>

        
        <article id="content" class="container markdown-body">
            
<h1 style="margin-bottom:0;padding-bottom:0;">Using an RNN to generate Bill Wurtz notes</h1>
<em>Textgenrnn is fun</em>
<br><br>

<p><a rel="noopener" target="_blank" href="https://billwurtz.com/">Bill Wurtz</a> is an American musician who became <a rel="noopener" target="_blank" href="https://socialblade.com/youtube/user/billwurtz/realtime">reasonably famous</a> through short musical videos posted to Vine and YouTube. I was searching through his website the other day, and stumbled upon a page labeled <a rel="noopener" target="_blank" href="https://billwurtz.com/notebook.html"><em>notebook</em></a>, and thought I should check it out.</p>
<p>Bill's notebook is a large (about 580 posts) collection of random thoughts, ideas, and sometimes just collections of words. A prime source of entertainment, and neural network inputs..</p>
<blockquote>
<p><em>&quot;If you are looking to burn something, fire may be just the ticket&quot;</em> - Bill Wurtz</p>
</blockquote>
<h2 id="choosing-the-right-tool-for-the-job">Choosing the right tool for the job</h2>
<p>If you haven't noticed yet, Im building a neural net to generate notes based on his writing style and content. Anyone who has read <a href="/blog/2018/06/27/becomeranter">my first post</a> will know that I have already done a similar project in the past. This means <em>time to reuse come code</em>!</p>
<p>For this project, I decided to use an amazing library by @minimaxir called <a rel="noopener" target="_blank" href="https://github.com/minimaxir/textgenrnn">textgenrnn</a>. This Python library will handle all of the heavy (and light) work of training an RNN on a text dataset, then generating new text. </p>
<h2 id="building-a-dataset">Building a dataset</h2>
<p>This project was a joke, so I didn't bother with properly grabbing each post, categorizing them, and parsing them. Instead, I build a little script to pull every HTML file from Bill's website, and regex out the body. This ended up leaving some artifacts in the output, but I don't really mind.</p>
<pre data-lang="python" style="background-color:#2b303b;color:#c0c5ce;" class="language-python "><code class="language-python" data-lang="python"><span style="color:#b48ead;">import </span><span>re
</span><span style="color:#b48ead;">import </span><span>requests
</span><span>
</span><span>
</span><span style="color:#b48ead;">def </span><span style="color:#8fa1b3;">loadAllUrls</span><span>():
</span><span>    page = requests.</span><span style="color:#bf616a;">get</span><span>(&quot;</span><span style="color:#a3be8c;">https://billwurtz.com/notebook.html</span><span>&quot;).text
</span><span>
</span><span>    links = re.</span><span style="color:#bf616a;">findall</span><span>(</span><span style="color:#b48ead;">r</span><span>&quot;</span><span style="color:#a3be8c;">HREF=</span><span style="color:#96b5b4;">\&quot;</span><span style="color:#a3be8c;">(</span><span style="color:#d08770;">.</span><span>*</span><span style="color:#a3be8c;">)</span><span style="color:#96b5b4;">\&quot;</span><span style="color:#a3be8c;">style</span><span>&quot;, page)
</span><span>
</span><span>    </span><span style="color:#b48ead;">return </span><span>links
</span><span>
</span><span>
</span><span style="color:#b48ead;">def </span><span style="color:#8fa1b3;">dumpEach</span><span>(</span><span style="color:#bf616a;">urls</span><span>):
</span><span>    </span><span style="color:#b48ead;">for </span><span>url </span><span style="color:#b48ead;">in </span><span>urls:
</span><span>        page = requests.</span><span style="color:#bf616a;">get</span><span>(</span><span style="color:#b48ead;">f</span><span>&quot;</span><span style="color:#a3be8c;">https://billwurtz.com/</span><span>{url}&quot;).text.</span><span style="color:#bf616a;">strip</span><span>().</span><span style="color:#bf616a;">replace</span><span>(
</span><span>            &quot;</span><span style="color:#a3be8c;">&lt;/br&gt;</span><span>&quot;, &quot;&quot;).</span><span style="color:#bf616a;">replace</span><span>(&quot;</span><span style="color:#a3be8c;">&lt;br&gt;</span><span>&quot;, &quot;&quot;).</span><span style="color:#bf616a;">replace</span><span>(&quot;</span><span style="color:#96b5b4;">\n</span><span>&quot;, &quot; &quot;)
</span><span>
</span><span>        data = re.</span><span style="color:#bf616a;">findall</span><span>(</span><span style="color:#b48ead;">r</span><span>&quot;</span><span style="color:#a3be8c;">&lt;/head&gt;(</span><span style="color:#d08770;">.</span><span>*</span><span style="color:#a3be8c;">)</span><span>&quot;, page, re.</span><span style="color:#bf616a;">MULTILINE</span><span>)
</span><span>
</span><span>        </span><span style="color:#65737e;"># ensure data
</span><span>        </span><span style="color:#b48ead;">if </span><span style="color:#96b5b4;">len</span><span>(data) == </span><span style="color:#d08770;">0</span><span>:
</span><span>            </span><span style="color:#b48ead;">continue
</span><span>
</span><span>        </span><span style="color:#96b5b4;">print</span><span>(data[</span><span style="color:#d08770;">0</span><span>])
</span><span>
</span><span>
</span><span>urls = </span><span style="color:#bf616a;">loadAllUrls</span><span>()
</span><span style="color:#96b5b4;">print</span><span>(</span><span style="color:#b48ead;">f</span><span>&quot;</span><span style="color:#a3be8c;">Loaded </span><span>{</span><span style="color:#96b5b4;">len</span><span>(urls)}</span><span style="color:#a3be8c;"> pages</span><span>&quot;)
</span><span style="color:#bf616a;">dumpEach</span><span>(urls)
</span><span>
</span></code></pre>
<p>This script will print each of Bill's notes to the console (on it's own line). I used a simple redirect to write this to a file.</p>
<pre data-lang="sh" style="background-color:#2b303b;color:#c0c5ce;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#bf616a;">python3</span><span> scrape.py &gt; posts.txt
</span></code></pre>
<h2 id="training">Training</h2>
<p>To train the RNN, I just used some of textgenrnn's example code to read the posts file, and build an <a rel="noopener" target="_blank" href="https://en.wikipedia.org/wiki/Hierarchical_Data_Format">HDF5</a> file to store the RNN's neurons.</p>
<pre data-lang="python" style="background-color:#2b303b;color:#c0c5ce;" class="language-python "><code class="language-python" data-lang="python"><span style="color:#b48ead;">from </span><span>textgenrnn </span><span style="color:#b48ead;">import </span><span>textgenrnn
</span><span>
</span><span>generator = </span><span style="color:#bf616a;">textgenrnn</span><span>()
</span><span>generator.</span><span style="color:#bf616a;">train_from_file</span><span>(&quot;</span><span style="color:#a3be8c;">/path/to/posts.txt</span><span>&quot;, </span><span style="color:#bf616a;">num_epochs</span><span>=</span><span style="color:#d08770;">100</span><span>)
</span></code></pre>
<p>This takes quite a while to run, so I offloaded it to a <a rel="noopener" target="_blank" href="https://www.digitalocean.com/products/droplets/">Droplet</a>, and left it running overnight.</p>
<h2 id="the-results">The results</h2>
<p>Here are some of my favorite generated notes:</p>
<blockquote>
<p><em>&quot;note: do not feel better&quot;</em></p>
</blockquote>
<blockquote>
<p><em>&quot;hi  I am a car.&quot;</em></p>
</blockquote>
<blockquote>
<p><em>&quot;i am stuff and think about this before . this is it, the pond. how do they make me feel better?&quot;</em></p>
</blockquote>
<blockquote>
<p><em>&quot;i am still about the floor&quot;</em></p>
</blockquote>
<p>Not perfect, but it is readable english, so i call it a win!</p>
<h2 id="play-with-the-code">Play with the code</h2>
<p>I have uploaded the basic code, the scraped posts, and a partial hdf5 file <a rel="noopener" target="_blank" href="https://github.com/Ewpratten/be-bill">to GitHub</a> for anyone to play with. Maybe make a twitter bot out of this?</p>


        </article>

        
        

    
<link rel="stylesheet" href="/styles/components/footer.css">


<div class="footer">
    <br>
    <span class="gray">-- EOF --</span>
    <p>
        Site design & content by: <a href="/contact">Evan Pratten</a><br>
        Consider <a href="/donate" target="_blank">supporting my work</a> if you like what you see<br>
    </p>
</div>
    </div>

    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
        crossorigin="anonymous"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
<script defer src="https://www.googletagmanager.com/gtag/js?id=G-5912H4H03P"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-5912H4H03P');
</script>
</body>

</html>